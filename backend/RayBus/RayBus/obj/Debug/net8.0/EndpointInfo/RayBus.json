{
  "openapi": "3.0.1",
  "info": {
    "title": "RayBus API - Tren ve Otobüs Bilet Rezervasyon Sistemi",
    "description": "Tren ve Otobüs bilet rezervasyon sistemi için Web API",
    "contact": {
      "name": "RayBus Team",
      "email": "info@raybus.com"
    },
    "version": "v1"
  },
  "paths": {
    "/api/Admin/users": {
      "get": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "aramaMetni",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "rolID",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/users/{id}": {
      "get": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateUserDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateUserDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateUserDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/users/{id}/status": {
      "put": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateUserStatusDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateUserStatusDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateUserStatusDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/reservations": {
      "get": {
        "tags": [
          "Admin"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/reservations/{id}/status": {
      "put": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateReservationStatusDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateReservationStatusDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateReservationStatusDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/reservations/{id}/cancel": {
      "post": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CancelReservationDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CancelReservationDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CancelReservationDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/trips": {
      "post": {
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateTripDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateTripDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateTripDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "get": {
        "tags": [
          "Admin"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/trips/{id}": {
      "put": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateTripDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateTripDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateTripDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/trips/{id}/cancel": {
      "post": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CancelTripDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CancelTripDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CancelTripDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/trips/{id}/status": {
      "put": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateTripStatusDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateTripStatusDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateTripStatusDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/dashboard/stats": {
      "get": {
        "tags": [
          "Admin"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/vehicles": {
      "post": {
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateVehicleDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateVehicleDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateVehicleDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "get": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "vehicleType",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "companyID",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/vehicles/{id}": {
      "put": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateVehicleDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateVehicleDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateVehicleDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/companies": {
      "get": {
        "tags": [
          "Admin"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/reports/daily-financial": {
      "get": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "startDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/reports/route-revenue": {
      "get": {
        "tags": [
          "Admin"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Admin/trips/details": {
      "get": {
        "tags": [
          "Admin"
        ],
        "parameters": [
          {
            "name": "tripId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/AutoCancellation/process": {
      "post": {
        "tags": [
          "AutoCancellation"
        ],
        "parameters": [
          {
            "name": "timeoutMinutes",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 15
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/AutoCancellation/settings": {
      "get": {
        "tags": [
          "AutoCancellation"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "AutoCancellation"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "integer",
                "format": "int32"
              }
            },
            "text/json": {
              "schema": {
                "type": "integer",
                "format": "int32"
              }
            },
            "application/*+json": {
              "schema": {
                "type": "integer",
                "format": "int32"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/AutoCancellation/logs": {
      "get": {
        "tags": [
          "AutoCancellation"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Bus": {
      "get": {
        "tags": [
          "Bus"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Bus/{id}": {
      "get": {
        "tags": [
          "Bus"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Bus/search": {
      "get": {
        "tags": [
          "Bus"
        ],
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "date",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/City": {
      "get": {
        "tags": [
          "City"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/City/{cityId}/stations": {
      "get": {
        "tags": [
          "City"
        ],
        "parameters": [
          {
            "name": "cityId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/City/{cityId}/terminals": {
      "get": {
        "tags": [
          "City"
        ],
        "parameters": [
          {
            "name": "cityId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Company/trips": {
      "get": {
        "tags": [
          "Company"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Company"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateTripDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateTripDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateTripDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Company/trips/{id}": {
      "get": {
        "tags": [
          "Company"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Company"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateTripDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateTripDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateTripDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Company"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Company/trips/{id}/cancel": {
      "post": {
        "tags": [
          "Company"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CancelCompanyTripDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CancelCompanyTripDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CancelCompanyTripDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Company/dashboard/stats": {
      "get": {
        "tags": [
          "Company"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Company/vehicles": {
      "get": {
        "tags": [
          "Company"
        ],
        "parameters": [
          {
            "name": "vehicleType",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Health/db": {
      "get": {
        "tags": [
          "Health"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Health": {
      "get": {
        "tags": [
          "Health"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Notification/send": {
      "post": {
        "tags": [
          "Notification"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.SendNotificationDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.SendNotificationDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.SendNotificationDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Notification/pending": {
      "get": {
        "tags": [
          "Notification"
        ],
        "parameters": [
          {
            "name": "maxCount",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Notification/status": {
      "put": {
        "tags": [
          "Notification"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateNotificationStatusDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateNotificationStatusDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateNotificationStatusDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Notification/preferences/{userId}": {
      "get": {
        "tags": [
          "Notification"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Notification"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UserNotificationPreferencesDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UserNotificationPreferencesDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UserNotificationPreferencesDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Notification/user/{userId}": {
      "get": {
        "tags": [
          "Notification"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Reservation": {
      "get": {
        "tags": [
          "Reservation"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Reservation"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateReservationDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateReservationDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateReservationDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Reservation/user/{userId}": {
      "get": {
        "tags": [
          "Reservation"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Reservation/complete-payment": {
      "post": {
        "tags": [
          "Reservation"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CompletePaymentDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CompletePaymentDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CompletePaymentDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Reservation/{id}": {
      "get": {
        "tags": [
          "Reservation"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Reservation"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CancelReservationDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CancelReservationDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CancelReservationDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Reservation/cancellation-reasons": {
      "get": {
        "tags": [
          "Reservation"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Reservation"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateCancellationReasonDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateCancellationReasonDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateCancellationReasonDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Ticket/reservation/{reservationId}": {
      "get": {
        "tags": [
          "Ticket"
        ],
        "parameters": [
          {
            "name": "reservationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Ticket/ticket-number/{ticketNumber}": {
      "get": {
        "tags": [
          "Ticket"
        ],
        "parameters": [
          {
            "name": "ticketNumber",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Ticket/pdf/{reservationId}": {
      "get": {
        "tags": [
          "Ticket"
        ],
        "parameters": [
          {
            "name": "reservationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Train": {
      "get": {
        "tags": [
          "Train"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Train/{id}": {
      "get": {
        "tags": [
          "Train"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Train/search": {
      "get": {
        "tags": [
          "Train"
        ],
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "date",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Trip/{id}": {
      "get": {
        "tags": [
          "Trip"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/Trip": {
      "post": {
        "tags": [
          "Trip"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateTripDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateTripDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.CreateTripDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/User/login": {
      "post": {
        "tags": [
          "User"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.LoginDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.LoginDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.LoginDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/User/create-admin": {
      "post": {
        "tags": [
          "User"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.RegisterDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.RegisterDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.RegisterDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/User/register": {
      "post": {
        "tags": [
          "User"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.RegisterDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.RegisterDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.RegisterDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/User/{id}": {
      "get": {
        "tags": [
          "User"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/User/{id}/profile": {
      "put": {
        "tags": [
          "User"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateProfileDTO"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateProfileDTO"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RayBus.Models.DTOs.UpdateProfileDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/UserStatistics/{userId}": {
      "get": {
        "tags": [
          "UserStatistics"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/UserStatistics/{userId}/report": {
      "get": {
        "tags": [
          "UserStatistics"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "RayBus.Models.DTOs.CancelCompanyTripDTO": {
        "type": "object",
        "properties": {
          "iptalNedeni": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.CancelReservationDTO": {
        "type": "object",
        "properties": {
          "cancelReasonID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "reason": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.CancelTripDTO": {
        "type": "object",
        "properties": {
          "iptalNedeni": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.CardInfoDTO": {
        "type": "object",
        "properties": {
          "last4Digits": {
            "type": "string",
            "nullable": true
          },
          "cardHolder": {
            "type": "string",
            "nullable": true
          },
          "expiryMonth": {
            "type": "string",
            "nullable": true
          },
          "expiryYear": {
            "type": "string",
            "nullable": true
          },
          "maskedCardNumber": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.CompletePaymentDTO": {
        "type": "object",
        "properties": {
          "reservationID": {
            "type": "integer",
            "format": "int32"
          },
          "price": {
            "type": "number",
            "format": "double"
          },
          "paymentMethod": {
            "type": "string",
            "nullable": true
          },
          "cardInfo": {
            "$ref": "#/components/schemas/RayBus.Models.DTOs.CardInfoDTO"
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.CreateCancellationReasonDTO": {
        "type": "object",
        "properties": {
          "reasonText": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.CreateReservationDTO": {
        "type": "object",
        "properties": {
          "userID": {
            "type": "integer",
            "format": "int32"
          },
          "tripID": {
            "type": "integer",
            "format": "int32"
          },
          "seatID": {
            "type": "integer",
            "format": "int32"
          },
          "price": {
            "type": "number",
            "format": "double"
          },
          "paymentMethod": {
            "type": "string",
            "nullable": true
          },
          "islemTipi": {
            "type": "integer",
            "format": "int32"
          },
          "cardInfo": {
            "$ref": "#/components/schemas/RayBus.Models.DTOs.CardInfoDTO"
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.CreateTripDTO": {
        "type": "object",
        "properties": {
          "vehicleID": {
            "type": "integer",
            "format": "int32"
          },
          "fromCityID": {
            "type": "integer",
            "format": "int32"
          },
          "toCityID": {
            "type": "integer",
            "format": "int32"
          },
          "departureTerminalID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "arrivalTerminalID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "departureStationID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "arrivalStationID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "departureDate": {
            "type": "string",
            "format": "date-time"
          },
          "departureTime": {
            "type": "string",
            "format": "date-span"
          },
          "arrivalDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "arrivalTime": {
            "type": "string",
            "format": "date-span",
            "nullable": true
          },
          "price": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.CreateVehicleDTO": {
        "type": "object",
        "properties": {
          "plakaNo": {
            "type": "string",
            "nullable": true
          },
          "aracTipi": {
            "type": "string",
            "nullable": true
          },
          "toplamKoltuk": {
            "type": "integer",
            "format": "int32"
          },
          "sirketID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.LoginDTO": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "nullable": true
          },
          "password": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.RegisterDTO": {
        "type": "object",
        "properties": {
          "fullName": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "password": {
            "type": "string",
            "nullable": true
          },
          "phone": {
            "type": "string",
            "nullable": true
          },
          "roleName": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.SendNotificationDTO": {
        "type": "object",
        "properties": {
          "userID": {
            "type": "integer",
            "format": "int32"
          },
          "notificationType": {
            "type": "string",
            "nullable": true
          },
          "notificationMethod": {
            "type": "string",
            "nullable": true
          },
          "subject": {
            "type": "string",
            "nullable": true
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "relatedReservationID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.UpdateNotificationStatusDTO": {
        "type": "object",
        "properties": {
          "notificationID": {
            "type": "integer",
            "format": "int32"
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.UpdateProfileDTO": {
        "type": "object",
        "properties": {
          "fullName": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "phone": {
            "type": "string",
            "nullable": true
          },
          "currentPassword": {
            "type": "string",
            "nullable": true
          },
          "newPassword": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.UpdateReservationStatusDTO": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.UpdateTripDTO": {
        "type": "object",
        "properties": {
          "fromCityID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "toCityID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "vehicleID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "departureTerminalID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "arrivalTerminalID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "departureStationID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "arrivalStationID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "departureDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "departureTime": {
            "type": "string",
            "format": "date-span",
            "nullable": true
          },
          "arrivalDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "arrivalTime": {
            "type": "string",
            "format": "date-span",
            "nullable": true
          },
          "price": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.UpdateTripStatusDTO": {
        "type": "object",
        "properties": {
          "status": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.UpdateUserDTO": {
        "type": "object",
        "properties": {
          "fullName": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "phone": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.UpdateUserStatusDTO": {
        "type": "object",
        "properties": {
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "sebep": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.UpdateVehicleDTO": {
        "type": "object",
        "properties": {
          "plateOrCode": {
            "type": "string",
            "nullable": true
          },
          "vehicleType": {
            "type": "string",
            "nullable": true
          },
          "active": {
            "type": "boolean",
            "nullable": true
          },
          "companyID": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RayBus.Models.DTOs.UserNotificationPreferencesDTO": {
        "type": "object",
        "properties": {
          "preferenceID": {
            "type": "integer",
            "format": "int32"
          },
          "userID": {
            "type": "integer",
            "format": "int32"
          },
          "emailNotifications": {
            "type": "boolean"
          },
          "smsNotifications": {
            "type": "boolean"
          },
          "reservationNotifications": {
            "type": "boolean"
          },
          "paymentNotifications": {
            "type": "boolean"
          },
          "cancellationNotifications": {
            "type": "boolean"
          },
          "reminderNotifications": {
            "type": "boolean"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      }
    },
    "securitySchemes": {
      "Bearer": {
        "type": "apiKey",
        "description": "JWT Authorization header using the Bearer scheme. Example: \"Authorization: Bearer {token}\"",
        "name": "Authorization",
        "in": "header"
      }
    }
  },
  "security": [
    {
      "Bearer": [ ]
    }
  ]
}